import{u as c,r as i,a as d,j as e,b as m,c as h,s as x,M as u,S as p,d as b,e as g}from"./index-6b378167.js";const j=({user:s,handleRemoveFriend:a})=>e.jsx(e.Fragment,{children:e.jsxs("dialog",{id:"friendRemove_modal",className:"modal bg-gray-900/25 dark:bg-black/25",children:[e.jsxs("form",{method:"dialog",className:"modal-box prose prose-h3:mt-0 max-w-prose bg-base-200 dark:bg-gray-800 dark:prose-invert",children:[e.jsx("button",{className:"btn-sm hover:bg-transparent absolute right-2 top-2",children:"âœ•"}),e.jsx("h3",{children:"Remove friend?"}),e.jsxs("p",{className:"",children:["Are you sure you want to remove"," ",e.jsx("span",{className:"font-semibold",children:s==null?void 0:s.username})," from your friends?"]}),e.jsxs("div",{className:"modal-action",children:[e.jsx("button",{className:"btn btn-neutral normal-case text-base",children:"Cancel"}),e.jsx("button",{className:"btn border-0 text-neutral-content bg-red-500 rounded-md hover:bg-red-600 text-base normal-case",onClick:()=>a(s.id),children:"Delete"})]})]}),e.jsx("form",{method:"dialog",className:"modal-backdrop",children:e.jsx("button",{className:"cursor-default",children:"close"})})]})}),v=({friend:s,setSelectedUser:a,selectedUser:o})=>{const l=d(),t=h(),r=()=>{};return e.jsxs("li",{className:"flex box-border items-center space-x-2 p-2 rounded-md cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700",onClick:async()=>{l(x(s.id))},children:[s.image?e.jsx("img",{src:s.image?s.image:`https://api.dicebear.com/6.x/avataaars/svg?seed=${s.username}`,alt:"user",className:"w-8 h-8 rounded-full"}):e.jsx("img",{src:`https://api.dicebear.com/6.x/avataaars/svg?seed=${s.username}`,alt:"avatar",className:"w-8 h-8 rounded-full"}),e.jsx("span",{className:"truncate",children:s.username}),e.jsx("div",{className:"grow"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",className:"w-5 h-5 fill-neutral-300 hover:fill-neutral-700",onClick:r,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:e.jsx("path",{d:"M64 0C28.7 0 0 28.7 0 64V352c0 35.3 28.7 64 64 64h96v80c0 6.1 3.4 11.6 8.8 14.3s11.9 2.1 16.8-1.5L309.3 416H448c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H64z"})})}),e.jsxs("div",{className:"dropdown dropdown-left h-full",children:[e.jsx(u,{className:"w-6 h-6 fill-neutral-300 hover:fill-neutral-700",tabIndex:0,onClick:()=>{a(s)}}),e.jsxs("ul",{tabIndex:0,className:"dropdown-content menu-xs menu p-2 shadow bg-base-100 rounded-box",children:[e.jsx("li",{children:e.jsx(p,{drawerContent:"user",children:e.jsx("div",{onClick:()=>{a(s),t.setDrawerContent("user"),t.setSelectedUser(s)},children:"View profile"})})}),e.jsx("li",{children:e.jsx("div",{onClick:()=>{a(s),document.getElementById("friendRemove_modal").show()},children:"Remove friend"})})]})]})]})]})},N=()=>{const{user:s}=c(),[a,o]=i.useState(),l=d(),t=async r=>{const n=await b(s.id,r);n&&l(g(n))};return s.friends.length===0?e.jsx("div",{className:"flex justify-center w-full h-full",children:"No friends yet"}):e.jsxs(e.Fragment,{children:[m.createPortal(e.jsx(j,{user:a,handleRemoveFriend:t}),document.getElementById("modal")),e.jsx("ul",{className:"absolute inset-0",children:s.friends.map(r=>e.jsx(v,{friend:r,setSelectedUser:o,selectedUser:a},r.id))})]})};export{N as default};
